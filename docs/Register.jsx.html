<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Register.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Register.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class component UserRegister
 * @classdesc User registration form.
 */
UserRegister = React.createClass({
  getInitialState() {
        return {
            errors: {}
        }
  },
  /**
   * Registers a new user in the system.
   * @access private
   * @param {event} e Submit event from form
   */
  register(e){
    e.preventDefault();
    //get the data
    let username = e.target.username.value;
    let email = e.target.email.value;
    let password = e.target.password.value;
    let password2 = e.target.password2.value;

    //check that the passwords match
    if(password === password2)
    {
      check(username, String);
      check(email, String);
      check(password, String);

      //create the user
      Accounts.createUser({email: email, username: username, password: password}, function(error){
        /* TODO: figure out why we are getting "Content is required" error here even though the user gets created successfully
        if(error){
          console.log(error.reason);
          Materialize.toast(error.reason, 4000)
        } else {
          FlowRouter.go("Dashboard");
        }*/
        FlowRouter.go("dashboard");
      });
    } else {
      console.log("Passwords don't match.");
      Materialize.toast("Passwords don't match.", 4000)
    }
  },
  /**
   * Render the registration form.
   * @access private
   */
  render(){
    return (
      &lt;div className="row">
        &lt;div className="col s12 m8 offset-m2 l4 offset-l4 center-align">
          &lt;h1>Register&lt;/h1>
          &lt;form onSubmit={this.register}>
            &lt;div className="input-field">
              &lt;input className="validate" type="text" name="username" required />
              &lt;label htmlFor="username">Your username&lt;/label>
            &lt;/div>
            &lt;div className="input-field">
              &lt;input className="validate" type="email" name="email" required />
              &lt;label htmlFor="email">Your e-mail&lt;/label>
            &lt;/div>
            &lt;div className="input-field">
              &lt;input className="validate" type="password" name="password" required />
              &lt;label htmlFor="password">Your password&lt;/label>
            &lt;/div>
            &lt;div className="input-field">
              &lt;input className="validate" type="password" name="password2" required />
              &lt;label htmlFor="password2">Repeat your password&lt;/label>
            &lt;/div>
            &lt;div className="expanded button-group">
              &lt;a href={FlowRouter.path("login")} className="btn">Login&lt;/a>
              &lt;input type="submit" value="Create account" className="btn">&lt;/input>
            &lt;/div>
          &lt;/form>
        &lt;/div>
      &lt;/div>)
  }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="component%2520UserChangePassword.html">component UserChangePassword</a></li><li><a href="component%2520UserChangeUsername.html">component UserChangeUsername</a></li><li><a href="component%2520UserEmail.html">component UserEmail</a></li><li><a href="component%2520UserLogin.html">component UserLogin</a></li><li><a href="component%2520UserRegister.html">component UserRegister</a></li><li><a href="component%2520UserSettings.html">component UserSettings</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Feb 26 2016 22:51:12 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
